{"version":3,"sources":["./src/app/admin/components/sources/sources-routing.module.ts","./src/app/admin/components/sources/sources.module.ts","./src/app/admin/components/sources/components/sources-view/sources-view.component.ts","./src/app/admin/components/sources/components/sources-view/sources-view.component.scss","./src/app/admin/components/sources/services/sources.service.ts","./src/app/admin/components/sources/components/sources-view/sources-view.component.html"],"names":[],"mappings":"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","file":"components-sources-sources-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SourcesViewComponent } from './components/sources-view/sources-view.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component:SourcesViewComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SourcesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SourcesRoutingModule } from './sources-routing.module';\nimport { SourcesViewComponent } from './components/sources-view/sources-view.component';\n\nimport { FormsModule, ReactiveFormsModule  } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MatRippleModule} from '@angular/material/core';\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ChartModule } from 'angular-highcharts';\nimport { SharedModule } from './../../../shared/shared.module';\n\n\n@NgModule({\n  declarations: [SourcesViewComponent],\n  imports: [\n    CommonModule,\n    SourcesRoutingModule,\n    NgbModule,\n    CommonModule,\n    FormsModule,ReactiveFormsModule,\n    MatRippleModule,\n    NgxPaginationModule,\n    ChartModule,\n    SharedModule,\n  ]\n})\nexport class SourcesModule { }\n","import { Component, OnInit } from '@angular/core';\r\nimport { SourcesService } from './../../services/sources.service';\r\nimport { NgbModal,NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { FormBuilder, FormGroup, Validators ,FormControl, FormArray} from '@angular/forms';\r\nimport { of } from 'rxjs';\r\nimport { SubscriptionService } from './../../../subscription/services/subscription.service';\r\n\r\n@Component({\r\n  selector: 'app-sources-view',\r\n  templateUrl: './sources-view.component.html',\r\n  styleUrls: ['./sources-view.component.scss']\r\n})\r\nexport class SourcesViewComponent implements OnInit {\r\n  UnassignedSources = [];\r\n  AssignedSources = [];\r\n  forms : FormGroup;\r\n  Types = [];\r\n  buttonDisable:boolean = false;\r\n  modal;\r\n  ShowAssignedAll:number = 0;\r\n  ShowUnassignedAll:number = 0;\r\n  subsciption;\r\n\r\n  constructor(\r\n    private service:SourcesService,\r\n    private subscriptionService:SubscriptionService,\r\n    private modalService: NgbModal,\r\n    private toastr:ToastrService,\r\n    private formBuilder: FormBuilder,\r\n    private spinner:NgxSpinnerService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getActiveSubsciption();\r\n     of(this.getTypes()).subscribe(orders => {\r\n      this.Types = orders;\r\n    });\r\n    this.initForm();\r\n  }\r\n  getActiveSubsciption(){\r\n    this.spinner.show();\r\n    this.subscriptionService.getActiveSubsciption().subscribe((response:any) => {\r\n      this.subsciption = response;\r\n      if(this.subsciption){\r\n        this.getAssignedSources();\r\n      }\r\n      this.spinner.hide();\r\n    },err => {\r\n        //handle errors here\r\n        this.toastr.error(err.error.Message);\r\n    });\r\n  }\r\n  initForm(){\r\n    this.forms = this.formBuilder.group({\r\n      RecourceUrl :['',Validators.required],\r\n      SourceType:['CSV',Validators.required],\r\n      Message :['',Validators.required],\r\n      Terms: ['',Validators.required],\r\n   });\r\n  }\r\n  getTypes() {\r\n    return [\r\n      { Id: 'CSV', Name: 'CSV' },\r\n      { Id: 'XML', Name: 'XML' },\r\n      { Id: 'Crawler', Name: 'Crawler' },\r\n    ];\r\n  }\r\n  markFormGroupTouched(formGroup: FormGroup) {\r\n    (<any>Object).values(formGroup.controls).forEach(control => {\r\n    control.markAsTouched();\r\n\r\n    if (control.controls) {\r\n        this.markFormGroupTouched(control);\r\n    }\r\n    });\r\n    return true;\r\n  }\r\n\r\n  getUnassignedSources(){\r\n    this.spinner.show();\r\n    this.service.getUnassignedSources().subscribe((response:any) => {\r\n      this.UnassignedSources = response;\r\n      this.spinner.hide();\r\n    },err => {\r\n        //handle errors here\r\n        this.toastr.error(err.error.Message);\r\n    });\r\n  }\r\n  getAssignedSources(){\r\n    this.spinner.show();\r\n    this.service.getAssignedSources().subscribe((response:any) => {\r\n      this.AssignedSources = response;\r\n      this.getUnassignedSources();\r\n      this.spinner.hide();\r\n    },err => {\r\n        //handle errors here\r\n        this.toastr.error(err.error.Message);\r\n    });\r\n  }\r\n  AddSourceRequest(){\r\n    this.spinner.show();\r\n    this.service.AddSourceRequest(this.forms.value).subscribe((response:any) => {\r\n      this.getUnassignedSources();\r\n      this.getAssignedSources();\r\n      this.spinner.hide();\r\n      this.toastr.success(\"Request added\");\r\n      this.initForm();\r\n    },err => {\r\n        //handle errors here\r\n        this.toastr.error(err.error.Message);\r\n    });\r\n  }\r\n  openModal( ref ) {\r\n    this.modal = this.modalService.open( ref , { size : 'lg',centered : true } );\r\n  }\r\n  AssignSource(source = null,selected = []){\r\n    this.spinner.show();\r\n    let data;\r\n    if(source){\r\n      data = this.UnassignedSources.filter((state) => {\r\n        return state.Id ==  source.Id;\r\n      }) ;\r\n    }else{\r\n      data = selected;\r\n    }\r\n    this.service.AssignSource({sourceIds:data}).subscribe((res:any) => {\r\n      window.location = res.Link\r\n      this.spinner.hide();\r\n    },err => {\r\n        //handle errors here\r\n        this.toastr.error(err.error.Message);\r\n    });\r\n  }\r\n  UnassignSource(source = null,selected = []){\r\n    this.spinner.show();\r\n    let data;\r\n    if(source){\r\n      data = this.AssignedSources.filter((state) => {\r\n        return state.Id !=  source.Id;\r\n      });\r\n    }else{\r\n      data = selected;\r\n    }\r\n    this.service.AssignSource({sourceIds:data}).subscribe((res:any) => {\r\n      window.location = res.Link\r\n      this.spinner.hide();\r\n    },err => {\r\n        //handle errors here\r\n        this.toastr.error(err.error.Message);\r\n    });\r\n  }\r\n  AssignedAllSelection(){\r\n    this.ShowAssignedAll = 0 ;\r\n    this.UnassignedSources.filter(res=>{\r\n      res.select ===  true ? this.ShowAssignedAll++:'';\r\n    });\r\n  }\r\n  AssignedAll(){\r\n    let data = [] ;\r\n    this.UnassignedSources.filter(res=>{\r\n      res.select ===  true ? data.push(res.Id) :'';\r\n    });\r\n    this.AssignSource(null,data);\r\n  }\r\n  UnassignedAllSelection(){\r\n    this.ShowUnassignedAll = 0 ;\r\n    this.AssignedSources.filter(res=>{\r\n      res.select ===  true ? this.ShowUnassignedAll++:'';\r\n    });\r\n  }\r\n  UnassignedAll(){\r\n    let data = [] ;\r\n    this.AssignedSources.filter(res=>{\r\n      res.select ===  true ? '' :data.push(res.Id);\r\n    });\r\n    this.UnassignSource(null,data);\r\n  }\r\n}\r\n","export default \"@media only screen and (max-width: 1024px) {\\n  .plan-btn-row {\\n    justify-content: center;\\n  }\\n}\\n\\n.mtop35 {\\n  margin-top: 35px;\\n}\\n\\n.card-header {\\n  border-top-right-radius: 10px;\\n  border-top-left-radius: 10px;\\n}\\n\\ntable thead th {\\n  text-transform: uppercase;\\n  border-bottom: 0px;\\n  font-size: 11px;\\n  line-height: 16px;\\n  color: #A0A0A7;\\n}\\n\\ntable tr td {\\n  line-height: 20px;\\n}\\n\\ntable tr:nth-child(1) td {\\n  border-top: 0;\\n}\\n\\n.custom-control-input {\\n  z-index: 80;\\n  top: 10px;\\n}\\n\\n.custom-checkbox .custom-control-input:indeterminate ~ .custom-control-label::before {\\n  background-color: white;\\n  border-color: #adb5bd;\\n}\\n\\n.custom-checkbox .custom-control-input:indeterminate ~ .custom-control-label::after {\\n  background-image: none;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vY29tcG9uZW50cy9zb3VyY2VzL2NvbXBvbmVudHMvc291cmNlcy12aWV3L3NvdXJjZXMtdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJO0lBQ0UsdUJBQXVCO0VBQTNCO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBQ0E7RUFDRSw2QkFBNkI7RUFDN0IsNEJBQTRCO0FBRTlCOztBQUFBO0VBR00seUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDcEI7O0FBUkE7RUFZTSxpQkFBaUI7QUFBdkI7O0FBWkE7RUFpQk0sYUFBYTtBQURuQjs7QUFLQTtFQUNFLFdBQVc7RUFDWCxTQUFRO0FBRlY7O0FBSUE7RUFDRSx1QkFBc0I7RUFDdEIscUJBQXFCO0FBRHZCOztBQUdBO0VBQ0Usc0JBQXNCO0FBQXhCIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vY29tcG9uZW50cy9zb3VyY2VzL2NvbXBvbmVudHMvc291cmNlcy12aWV3L3NvdXJjZXMtdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCl7XHJcbiAgICAucGxhbi1idG4tcm93e1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIH1cclxufVxyXG4ubXRvcDM1e1xyXG4gIG1hcmdpbi10b3A6IDM1cHg7XHJcbn1cclxuLmNhcmQtaGVhZGVye1xyXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMHB4O1xyXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDEwcHg7XHJcbn1cclxudGFibGV7XHJcbiAgdGhlYWR7XHJcbiAgICB0aHtcclxuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMHB4O1xyXG4gICAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xyXG4gICAgICBjb2xvcjogI0EwQTBBNztcclxuICAgIH1cclxuICB9XHJcbiAgdHJ7XHJcbiAgICB0ZHtcclxuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRyOm50aC1jaGlsZCgxKXtcclxuICAgIHRke1xyXG4gICAgICBib3JkZXItdG9wOiAwO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4uY3VzdG9tLWNvbnRyb2wtaW5wdXR7XHJcbiAgei1pbmRleDogODA7XHJcbiAgdG9wOjEwcHg7XHJcbn1cclxuLmN1c3RvbS1jaGVja2JveCAuY3VzdG9tLWNvbnRyb2wtaW5wdXQ6aW5kZXRlcm1pbmF0ZSB+IC5jdXN0b20tY29udHJvbC1sYWJlbDo6YmVmb3JlIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO1xyXG4gIGJvcmRlci1jb2xvcjogI2FkYjViZDtcclxufVxyXG4uY3VzdG9tLWNoZWNrYm94IC5jdXN0b20tY29udHJvbC1pbnB1dDppbmRldGVybWluYXRlIH4gLmN1c3RvbS1jb250cm9sLWxhYmVsOjphZnRlciB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcclxufVxyXG4iXX0= */\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment as Constants } from \"src/environments/environment\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SourcesService {\r\n\r\n  constructor(private http: HttpClient) { \r\n  }\r\n  getUnassignedSources(){\r\n    return this.http.get(Constants.UnassignedSources+'/Unassigned');\r\n  }\r\n  getAssignedSources(){\r\n    return this.http.get(Constants.UnassignedSources+'/Assigned');\r\n  }\r\n  AddSourceRequest(data){\r\n    return this.http.post(Constants.AddSourceRequest,data);\r\n  }\r\n  AssignSource(data){\r\n    return this.http.get(Constants.CustomSources,{ params:data });\r\n  }\r\n}\r\n","export default \"<div class=\\\"mb-5\\\">\\r\\n    <h4 class=\\\"page-heading font20 inter-semi-bold\\\">Manage sources</h4>\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"row\\\" *ngIf=\\\"subsciption\\\">\\r\\n      <div class=\\\"col-md-7 mb-3 subsciption-left-section px-3\\\">\\r\\n          <div class=\\\"card shadow-sm\\\">\\r\\n              <div class=\\\"card-header d-flex align-items-center justify-content-between bg-white p-4 inter-semi-bold\\\">\\r\\n                 Assigned sources\\r\\n                 <a class=\\\"text-primary\\\" href=\\\"javascript:;\\\" (click)=\\\"UnassignedAll()\\\" *ngIf=\\\"ShowUnassignedAll\\\">+ Unassign selected({{ShowUnassignedAll}})</a>\\r\\n              </div>\\r\\n              <div class=\\\"card-body contigent-area page-area p-0\\\">\\r\\n\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n                    <table class=\\\"table\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th class=\\\"pt-4 px-4 pb-0 inter-semi-bold\\\">Source name</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let Source of AssignedSources;\\\">\\r\\n                                <td class=\\\"px-4 text-black font14 inter-medium\\\">\\r\\n                                      <div class=\\\"d-flex justify-content-between align-items-center\\\">\\r\\n                                          <div class=\\\"custom-control custom-primary-checkbox custom-checkbox mr-2\\\">\\r\\n                                              <input type=\\\"checkbox\\\" value=\\\"1\\\" class=\\\"custom-control-input \\\" id=\\\"assignedSources{{Source.Id}}\\\" (change)=\\\"UnassignedAllSelection();\\\" [(ngModel)]=\\\"Source.select\\\">\\r\\n                                              <label class=\\\"custom-control-label\\\" for=\\\"assignedSources{{Source.Id}}\\\">\\r\\n                                                  {{ Source.Name }}\\r\\n                                              </label>\\r\\n                                          </div> \\r\\n                                          <div class=\\\"custom-dropdown\\\">\\r\\n                                              <div class=\\\"dropdown\\\" ngbDropdown container=\\\"body\\\" placement=\\\"bottom-right\\\">\\r\\n                                                  <a class=\\\"dropdown-toggle d-flex align-items-center\\\" ngbDropdownToggle id=\\\"profileDropdown\\\" >\\r\\n                                                     <div class=\\\"text-black\\\">\\r\\n                                                        <i class=\\\"mdi mdi-dots-vertical\\\"></i>\\r\\n                                                     </div>\\r\\n                                                  </a>\\r\\n                                                  <div class=\\\"dropdown-menu dropdown-menu-right custom-dropdown-menu p-0 option-menu\\\" ngbDropdownMenu aria-labelledby=\\\"profileDropdown\\\">\\r\\n                                                     <a class=\\\"dropdown-item\\\" href=\\\"javascript:;\\\" (click)=\\\"UnassignSource(Source)\\\">\\r\\n                                                        Unassign\\r\\n                                                     </a>\\r\\n                                                  </div>\\r\\n                                              </div>\\r\\n                                          </div>\\r\\n                                      </div>\\r\\n                                  </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n  \\r\\n                <div class=\\\"d-flex flex-wrap plan-btn-row p-4\\\">\\r\\n                      <button class=\\\"btn btn-fw inter-semi-bold btn-inverse-primary\\\" matRipple (click)=\\\"openModal(UpgradeModal)\\\">\\r\\n                        Upgrade subscription\\r\\n                      </button>\\r\\n                </div>\\r\\n                \\r\\n              </div>\\r\\n          </div>\\r\\n  \\r\\n          <div class=\\\"card mtop35 shadow-sm pb-3\\\">\\r\\n              <div class=\\\"card-header d-flex align-items-center justify-content-between bg-white p-4 inter-semi-bold\\\">\\r\\n                Unassigned sources\\r\\n                <a class=\\\"text-primary\\\" href=\\\"javascript:;\\\" (click)=\\\"AssignedAll()\\\" *ngIf=\\\"ShowAssignedAll\\\">+ Assign selected({{ShowAssignedAll}})</a>\\r\\n              </div>\\r\\n              <div class=\\\"card-body p-0 invoice-body\\\">\\r\\n                \\r\\n                  <div class=\\\"table-responsive\\\">\\r\\n                      <table class=\\\"table\\\">\\r\\n                          <thead>\\r\\n                              <tr>\\r\\n                                  <th class=\\\"pt-4 px-4 pb-0 inter-semi-bold\\\">Source name</th>\\r\\n                              </tr>\\r\\n                          </thead>\\r\\n  \\r\\n                          <tbody>\\r\\n                              <tr *ngFor=\\\"let Source of UnassignedSources;\\\">\\r\\n                                  <td class=\\\"px-4 text-black font14 inter-medium\\\">\\r\\n                                        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\r\\n                                            <div class=\\\"custom-control custom-primary-checkbox custom-checkbox mr-2\\\">\\r\\n                                                <input type=\\\"checkbox\\\" value=\\\"1\\\" class=\\\"custom-control-input \\\" id=\\\"UnassignedSources{{Source.Id}}\\\" (change)=\\\"AssignedAllSelection();\\\" [(ngModel)]=\\\"Source.select\\\">\\r\\n                                                <label class=\\\"custom-control-label\\\" for=\\\"UnassignedSources{{Source.Id}}\\\">\\r\\n                                                    {{ Source.Name }}\\r\\n                                                </label>\\r\\n                                            </div> \\r\\n                                            <div class=\\\"custom-dropdown\\\">\\r\\n                                                <div class=\\\"dropdown\\\" ngbDropdown container=\\\"body\\\" placement=\\\"bottom-right\\\">\\r\\n                                                    <a class=\\\"dropdown-toggle d-flex align-items-center\\\" ngbDropdownToggle id=\\\"profileDropdown\\\" >\\r\\n                                                       <div class=\\\"text-black\\\">\\r\\n                                                          <i class=\\\"mdi mdi-dots-vertical\\\"></i>\\r\\n                                                       </div>\\r\\n                                                    </a>\\r\\n                                                    <div class=\\\"dropdown-menu dropdown-menu-right custom-dropdown-menu p-0 option-menu\\\" ngbDropdownMenu aria-labelledby=\\\"profileDropdown\\\">\\r\\n                                                       <a class=\\\"dropdown-item\\\" href=\\\"javascript:;\\\" (click)=\\\"AssignSource(Source)\\\">\\r\\n                                                          Assign\\r\\n                                                       </a>\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </td>\\r\\n                              </tr>\\r\\n                          </tbody>\\r\\n                      </table>\\r\\n                  </div>\\r\\n  \\r\\n              </div>\\r\\n            </div>\\r\\n  \\r\\n  \\r\\n      </div>\\r\\n  \\r\\n      <div class=\\\"col-md-5 subsciption-right-section px-3\\\">\\r\\n  \\r\\n          <div class=\\\"card shadow-sm\\\">\\r\\n              <div class=\\\"card-header d-flex align-items-center justify-content-between bg-white p-4 inter-semi-bold\\\">\\r\\n                 Request to add a source\\r\\n              </div>\\r\\n              <div class=\\\"card-body py-3\\\">\\r\\n                <form class=\\\"form\\\"  [formGroup]=\\\"forms\\\" (ngSubmit)=\\\"markFormGroupTouched(forms)  && forms.valid && AddSourceRequest(forms)\\\"  novalidate>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Source Url</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control form-control-lg\\\" placeholder=\\\"Url\\\" formControlName=\\\"RecourceUrl\\\">\\r\\n                        <div *ngIf=\\\"forms.controls['RecourceUrl'].invalid && (forms.controls['RecourceUrl'].dirty || forms.controls['RecourceUrl'].touched)\\\" class=\\\"text-danger font12 pt-1\\\">\\r\\n                               <div *ngIf=\\\"forms.controls['RecourceUrl'].errors.required\\\">\\r\\n                                Url is required.\\r\\n                               </div>\\r\\n                         </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"font14 inter-medium\\\">Source type</div>\\r\\n                      \\r\\n                        <div class=\\\"custom-control custom-primary-checkbox custom-checkbox mr-5\\\" *ngFor=\\\"let Type of Types\\\" style=\\\"display: inline-flex;\\\">\\r\\n                            <input id=\\\"{{ Type.Id }}\\\" type=\\\"radio\\\" formControlName=\\\"SourceType\\\" [value]=\\\"Type.Id\\\" class=\\\"custom-control-input\\\" name=\\\"SourceType\\\">\\r\\n                            <label for=\\\"{{ Type.Id }}\\\" class=\\\"custom-control-label\\\">\\r\\n                                {{Type.Name}}                       \\r\\n                             </label>\\r\\n                        </div>\\r\\n\\r\\n                         <div *ngIf=\\\"forms.controls['SourceType'].invalid\\\" class=\\\"text-danger font12 pt-1\\\">\\r\\n                            <div *ngIf=\\\"forms.controls['SourceType'].errors.required\\\">\\r\\n                             Source type is required.\\r\\n                            </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Message</label>\\r\\n                        <textarea class=\\\"form-control form-control-lg\\\" placeholder=\\\"Message\\\" formControlName=\\\"Message\\\"></textarea>\\r\\n                        <div *ngIf=\\\"forms.controls['Message'].invalid && (forms.controls['Message'].dirty || forms.controls['Message'].touched)\\\" class=\\\"error-msg\\\">\\r\\n                           <div *ngIf=\\\"forms.controls['Message'].errors.required\\\">\\r\\n                           Message is required.\\r\\n                           </div>\\r\\n                        </div>\\r\\n                     </div>\\r\\n\\r\\n                    <div class=\\\"custom-control custom-primary-checkbox custom-checkbox\\\">\\r\\n                        <input type=\\\"checkbox\\\" formControlName=\\\"Terms\\\" class=\\\"custom-control-input \\\" id=\\\"TermsCheck\\\">\\r\\n                        <label class=\\\"custom-control-label font14\\\" for=\\\"TermsCheck\\\">\\r\\n                            I agree to the Terms & Conditions\\r\\n                        </label>\\r\\n                    </div>\\r\\n            \\r\\n                    <button class=\\\"btn btn-block mt-4\\\" [disabled] = \\\"buttonDisable || !forms.valid\\\" matRipple>\\r\\n                        Send request\\r\\n                    </button>\\r\\n\\r\\n                </form>\\r\\n                \\r\\n  \\r\\n              </div>\\r\\n          </div>\\r\\n  \\r\\n      </div>\\r\\n  \\r\\n  </div>\\r\\n  <ng-template #UpgradeModal class=\\\"modal fade\\\" id=\\\"exampleModal-2\\\" aria-labelledby=\\\"exampleModalLabel-2\\\">\\r\\n      <div class=\\\"modal-content \\\">\\r\\n         <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title  font-weight-bold\\\" id=\\\"exampleModalLabel-2\\\">Upgrade subscription</h5>\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"modal.dismiss()\\\" aria-label=\\\"Close\\\">&times;\\r\\n            </button>\\r\\n         </div>\\r\\n         <div class=\\\"modal-body\\\">\\r\\n           <div class=\\\"py-3 row\\\">\\r\\n              <div class=\\\"col-12\\\">\\r\\n               <div class=\\\"inter-medium\\\">\\r\\n                  <p>Do you really wants to cancel subscription ?</p>\\r\\n               </div>\\r\\n              </div>\\r\\n               <div class=\\\"col-12\\\">\\r\\n                  <button type=\\\"button\\\" matRipple class=\\\"btn btn-primary inter-semi-bold\\\" (click)=\\\"cancelSubscription();\\\">Ok</button>\\r\\n                  <button type=\\\"button\\\" matRipple class=\\\"btn btn-inverse-light\\\" (click)=\\\"modal.dismiss()\\\"><span class=\\\"text-primary inter-semi-bold\\\">Cancel</span></button>\\r\\n               </div>\\r\\n           </div>\\r\\n         </div>\\r\\n      </div>\\r\\n   </ng-template>\\r\\n   \";"],"sourceRoot":"webpack:///"}